





<h1 align="center"> Mangata GÃ¼ncelleme </h1>

![image](https://github.com/Core-Node-Team/Testnet-TR/assets/91562185/7c0f2149-1b4f-4552-a993-e5d4bb2877ec)

## Linkler:
 * [Topluluk kanalÄ±mÄ±z](https://t.me/corenodechat)
 * [Topluluk Twitter](https://twitter.com/corenodeHQ)
 * [Mangata Resmi Websitesi](https://mangata.finance/)
 * [Mangata Resmi Twitter](https://twitter.com/MangataFinance)
 * [Mangata Resmi Discord](https://discord.gg/mangata)
 * [Mangata DÃ¶kÃ¼mantasyon](https://docs.mangata.finance/welcome/)
 


### ğŸ’»Sistem Gereksinimleri

| BileÅŸenler | Minimum Gereksinimler | 
| ------------ | ------------ |
| âœ”ï¸CPU |	2+ vcpu|
| âœ”ï¸RAM	| 4+ GB |
| âœ”ï¸Storage	| 100+ GB SSD |
| âœ”ï¸UBUNTU | 20-22 |

ğŸ‘‰NOT: Minumum stake 1 geth olacaK

* Minimum iÃ§in goerli aÄŸÄ±ndaki ethnizi en uygun ankr eth yapmak lazÄ±m alttan yapÄ±n bi alttan eigenden stake edin sona devamke

https://testnet.ankr.com/staking/stake/ethereum/

https://goerli.eigenlayer.xyz/token

![image](https://github.com/Core-Node-Team/Testnet-TR/assets/91562185/cad77edf-28f1-4142-9c2b-ba023fefaf00)

```
cd avs-operator-setup
```
```
docker compose down
```
ğŸ‘‰NOT: .env dosyasÄ±nÄ± bilgisayara yedekle (bilgileri kullanacaÄŸÄ±z dosyayÄ± deÄŸil dosya yolu : /root/avs-operator-setup/.env)
```
mv /root/avs-operator-setup/.env /root/.env
```
```
git reset --hard
```
```
git pull
```
```
git checkout tags/v0.2.1 -b v0.2.1
git fetch
```
```
docker compose pull
```
Not: .env dosyasÄ±nÄ± bilgisayarda olan bilgileri girerek kaydet(env dosyasÄ± deÄŸiÅŸmiÅŸ)
```
chmod +x run.sh
```
```
nano .env
```
```
./run.sh opt-in
```
ğŸ‘‰Not: eÄŸer hata alÄ±rsanÄ±z bele sebebi minimum 1 eth stake etmediÄŸinizden zaten yazÄ±orda

![image](https://github.com/Core-Node-Team/Testnet-TR/assets/91562185/c1367294-dbda-4eae-938c-eeb0182b0514)

```
docker compose up -d
```
```
docker logs -f --tail 100 avs-finalizer-node
```

# SÄ±fÄ±rdan Kuracaklar iÃ§in.

### Docker kurulumu
```
sudo apt update -y && sudo apt upgrade -y
for pkg in docker.io docker-doc docker-compose podman-docker containerd runc; do sudo apt-get remove $pkg; done
```
```
sudo apt-get update
```
```
sudo apt-get install ca-certificates curl gnupg
```
```
sudo install -m 0755 -d /etc/apt/keyrings
```
```
curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /etc/apt/keyrings/docker.gpg
```
```
sudo chmod a+r /etc/apt/keyrings/docker.gpg
```
```
echo \
  "deb [arch="$(dpkg --print-architecture)" signed-by=/etc/apt/keyrings/docker.gpg] https://download.docker.com/linux/ubuntu \
  "$(. /etc/os-release && echo "$VERSION_CODENAME")" stable" | \
  sudo tee /etc/apt/sources.list.d/docker.list > /dev/null
```
```
sudo apt update -y && sudo apt upgrade -y
```
```
sudo apt-get install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin
```
### Go
```
ver="1.21.6"
wget "https://golang.org/dl/go$ver.linux-amd64.tar.gz"
sudo rm -rf /usr/local/go
sudo tar -C /usr/local -xzf "go$ver.linux-amd64.tar.gz"
rm "go$ver.linux-amd64.tar.gz"
echo "export PATH=$PATH:/usr/local/go/bin:$HOME/go/bin" >> $HOME/.bash_profile
source $HOME/.bash_profile
go version
```

### EigenLayer

```
git clone https://github.com/Layr-Labs/eigenlayer-cli.git
```
```
cd eigenlayer-cli
```
```
mkdir -p build
```
```
go build -o build/eigenlayer cmd/eigenlayer/main.go
```
```
cd
sudo cp eigenlayer-cli/build/eigenlayer /usr/local/bin/
```

### Key oluÅŸturma
NOT: ÅŸifre sayÄ± buyuk harf ve sayÄ± iÃ§ermeli.Ã‡Ä±kan tum Ã§Ä±ktÄ±larÄ±n yedeÄŸini alÄ±p kaydedin.
```
eigenlayer operator keys create --key-type ecdsa user
```
```
eigenlayer operator keys create --key-type bls user
```

### Keyleri listelemek isterseniz

```
eigenlayer operator keys list
```



### Operator kayÄ±t
```
eigenlayer operator config create
```

- y diyelim.

- operator adresi ilk iÅŸlemdeki cÄ±ktÄ±daki Ethereum Address adresi.

- yukarÄ±da girdiÄŸiniz adresi girin yine

- goerli rpc lazÄ±m Ã¼cretsiz https://app.infura.io temin ediyoruz hesap oluÅŸturup. YADA `https://rpc.ankr.com/eth_goerli` bunu kullanmayÄ± deneyin.

- `ecdsa key` dosya yolu : /root/.eigenlayer/operator_keys/user.ecdsa.key.json

- goerli seÃ§iyoruz.





### githubumuza geliyoruz...

- kendi isimimizde veya herhangi bir isimde repo olusturun.
- add file diyelim ve metadata.json olarak isim verip boÅŸ olarak kaydedelim.
- daha sonra yine add file kÄ±smÄ±ndna upload deyip orjinali png olan bir logo yÃ¼kleyelim ama harbi png olacak Ã¶yle jpg uzantÄ±sÄ±nÄ± png Ã§evirmeyin yemiyo :D
- resmi yÃ¼klediniz.

![image](https://github.com/Core-Node-Team/Testnet-TR/assets/91562185/a1d70d40-dd43-4bd2-8bab-486f690acf7c)

* bulunduÄŸunuz sayfanÄ±n linkinin sonuna gelin. sonuna ÅŸunu ekleyip enterlayÄ±n. `?raw=true`

![image](https://github.com/Core-Node-Team/Testnet-TR/assets/91562185/b4e6e365-8378-4601-8a92-1f2612459303)

* artÄ±k bele gÃ¶runecek link..

![image](https://github.com/Core-Node-Team/Testnet-TR/assets/91562185/9d2ef66e-9f75-4b2c-abc0-eb0070120550)

* ekrandada bÃ¶le logonuz gorunecek.

![image](https://github.com/Core-Node-Team/Testnet-TR/assets/91562185/2640a771-3c66-4969-81ed-00de5d5f7246)

* tamamdÄ±r artÄ±k bu linki kullanabilirsiniz.

- evet resimide ayarladÄ±k ÅŸimdi olusturduÄŸumuz metadata.json dosyasÄ±nÄ± dÃ¼zenleyelim kalem iÅŸaretine tÄ±klayÄ±p
- altakodu yapÄ±stÄ±rÄ±p bi gÃ¼zel gerekli olanalrÄ± yazalÄ±m. sonra comiit deyip kaydedin.
```
{
  "name": "",
  "website": "",
  "description": "",
  "logo": "",
  "twitter": ""
}
```

* AÅAÄIDAKÄ° ANLAMANIZ AÃ‡ISINDAN SADECE Ã–RNEKTÄ°R. Ã–RDEKTÄ°R :)
```
{
  "name": "Ã¼fÃ¼rÃ¼kÃ§Ã¼",
  "website": "https://github.com/hebelehÃ¼bele",
  "description": "AyrÄ±ntÄ±lar",
  "logo": "https://raw.githubusercontent.com/molla202/molla202/main/bilaloÄŸlan.png",
  "twitter": "https://twitter.com/papuayeniginekÄ±nasÄ±alcam"
}
```


### operator dosyasÄ±nÄ± dÃ¼zenleyelim...
```
nano operator.yaml
```

- `metadata_url` : `metadata.json` yÃ¼klemiÅŸtik githuba o dosyaya geldiÄŸimizde saÄŸ Ã¼st kÄ±sÄ±mda raw yazar tÄ±klarsanÄ±z linkini kopyalar buraya onu yapÄ±stÄ±rÄ±n...

- el_delegation_manager_address: 0x1b7b8F6b258f95Cf9596EabB9aa18B62940Eb0a8 # burda bu yazÄ±yor olmalÄ± yada yenilenmiÅŸ olabilir repoda

- ctrl xy enter...




### register(kayÄ±t)

- en yukarÄ±da key olusturmustuk 2 kod vardÄ± onalrÄ±n ilkinin Ã§Ä±ktÄ±sÄ±nda private key var. onu metamuska ekleyin. zor olacak ama goerli faucet bulun... sona iÅŸlem iÃ§in aÅŸaÄŸÄ±daki kodu girin...loglar biraz akacak biticek bekleyin...
```
eigenlayer operator register operator.yaml
```
### DosyalarÄ± Ã§ekelim
```
git clone https://github.com/mangata-finance/avs-operator-setup.git
```
```
cd avs-operator-setup
```
```
git checkout tags/v0.2.1 -b v0.2.1
```
```
chmod +x run.sh
```
```
nano .env
```


ETH_RPC_URL= infuradan alÄ±nan http linki

ETH_WS_URL= infuradan alÄ±nan wss linki

ECDSA_KEY_FILE_HOST=/root/.eigenlayer/operator_keys/user.ecdsa.key.json

BLS_KEY_FILE_HOST=/root/.eigenlayer/operator_keys/user.bls.key.json

ECDSA_KEY_PASSWORD=ÅŸifre oluÅŸturmuÅŸtuk yazÄ±verin gari

BLS_KEY_PASSWORD=ÅŸifre oluÅŸturmuÅŸtuk yazÄ±verin gari

- ctrl xy enter.

```
./run.sh opt-in
```
```
docker compose up -d
```
```
docker ps
```
- Ã§Ä±kan listede en baÅŸÄ±nda doker id yazar sayÄ±lÄ± falan onu yazÄ±caksÄ±nÄ±z aÅŸaÄŸÄ±daki dosker-id kÄ±smÄ±na...
```
docker logs -f --tail 100 docker-id
```
YADA
```
docker logs -f --tail 100 avs-finalizer-node
```

- Loglar biraz aksÄ±n sonra resmini alÄ±n avs-operators kanalÄ±na atÄ±n discorda rol vericekler.Mangatarians diye ve bot var aynÄ± kanalda tÄ±klayarak node runner rolude alÄ±n. discord linki sayfanÄ±n basÄ±ndakilinklerde var.


#### Operator durumu kontrol
```
eigenlayer operator status operator.yaml
```
#### daha sonrasÄ± iÃ§in bir deÄŸiÅŸiklik olur ise metadatayÄ± deÄŸiÅŸtirirseniz gÃ¼ncellemeniz gerekir aÅŸaÄŸÄ±daki kod ile
```
eigenlayer operator update operator.yaml
```

### komple silmek

```
cd avs-operator-setup
```
```
docker compose down -v
```
```
cd 
rm -rf avs-operator-setup
rm -rf eigenlayer-cli
```

